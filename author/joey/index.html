
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Author: joey - Artsy Engineering</title>
  <meta name="author" content="">

  
  <meta name="description" content="author: joey">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://artsy.github.io/author/joey/">
  <link rel="alternate" type="application/rss+xml" title="Artsy Engineering Blog" href="/feed">

  <link href="/favicon.png" rel="icon">
  <link href="/css/screen.css" media="screen, projection" rel="stylesheet" type="text/css">

  <script src="/javascripts/jquery-1.11.3.min.js"> </script>
  <script src="/javascripts/gradient-fade.js"></script>
  <script src="/javascripts/noframework.waypoints.min.js"></script>
  <script src="/javascripts/sticky.min.js"></script>

  

  <script type="text/javascript" src="http://fast.fonts.net/jsapi/f7f47a40-b25b-44ee-9f9c-cfdfc8bb2741.js"></script>


  <link href="" rel="alternate" title="Artsy Engineering" type="application/atom+xml">
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-12450662-3']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


  <!--[if IE 8]><link href="/stylesheets/custom/ie_font.css" type="text/css"><![endif]-->

</head>


<body>
  <div id="logo-container">
    <div id="lrg-mark">
      <a href="https://www.artsy.net/"><img src="/images/fixed_logo.png"></a>
    </div>
  </div>
  <header id="banner"><div id="header">
  <div class="header-navigation">
    <ul>
      <li><a href="https://developers.artsy.net/">API</a></li>
      <li><a href="https://www.artsy.net/jobs">Careers</a></li>
      <li><a href="http://twitter.com/artsyopensource">@artsyopensource</a></li>
      <li><a href="http://www.artsy.net/">Artsy.net</a></li>
    </ul>
    <span class="header-section-title">
      
        <a href="/open-source">Open Source</a>
      
    </span>
  </div>

  <div class="header-sticky-container">
    <div class="header-logo">
      <h2><a href="http://artsy.github.io">Artsy</a></h2>
    </div>
    <div class="header-search">
      
        <h2><a href="/">Engineering Blog</a></h2>
        <span>
  <form action="/search" method="get">
    <input type="hidden" value="010245880960712892902:tnjd4ryb3ci" name="cx"/>
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </form>

</span>
      
    </div>
  </div>
</div>
</header>
  <div class="header-hamburger">
    <button class="cmn-toggle-switch cmn-toggle-switch__htx">
      <span>toggle menu</span>
    </button>
  </div>
  <div id="main">
    <div id="content">

      <div>
  <div class="page-article ">
    <article role="article">

      

<div id="blog-archives" class="author">

  <h1>Posts by Joey Aghion -

    
    <span class="fn">
      <a href="http://joey.aghion.com">Site</a>
    </span>
    
    
    <span class="fn">
      <a href="https://github.com/joeyAghion">GitHub</a>
    </span>
    
    
    <span class="fn">
      <a href="https://twitter.com/joeyAghion">@joeyAghion</a>
    </span>
    
</h1>



  


  


  


  


  
  
  
    
    <h2>2015</h2>
  
  <article>
    

<div class="content-container">
  <a href="/blog/2015/12/22/future-fridays/">
    <b>Future Fridays</b>
  </a>
</div>
<div class="date-container">
  <div class="date">




  
<time datetime="2015-12-22T11:09:00+00:00" pubdate></time></div>
</div>

<div class="content-container">
 <p>Artsy's Platform engineering team is responsible for much of our shared infrastructure and services. Some of that responsibility is naturally focused on the very near term, such as diagnosing service interruptions and fixing bugs. However, we must regularly balance that with more long-term-focused work such as evaluating new technologies, paying off technical debt, and devising foundational improvements to our platform.</p> <p>This is a tricky balance! Near-term work is appealing. It's well-understood, more easily scoped, and...
</div>


<footer>
  <span class="categories">Posted in <a class='category' href='/blog/categories/team/'>team</a></span>
</footer>


  </article>

  


  


  


  


  


  


  


  


  
  
  
  <article>
    

<div class="content-container">
  <a href="/blog/2015/09/24/splitting-up-a-large-test-suite/">
    <b>Splitting up a large test suite</b>
  </a>
</div>
<div class="date-container">
  <div class="date">




  
<time datetime="2015-09-24T22:13:00+00:00" pubdate></time></div>
</div>

<div class="content-container">
 <p>A while back, we wrote about <a href="/blog/2012/10/09/how-to-run-rspec-test-suites-in-parallel-with-jenkins-ci-build-flow/">How to Run RSpec Test Suites in Parallel with Jenkins CI Build Flow</a>. A version of that still handles our largest test suite, but over time the initial division of specs became unbalanced. We ended up with some tasks that took twice as long as others. Even worse, in an attempt to rebalance task times, we ended up with awkward file patterns like <code>'spec/api/**/[a-m]*_spec.rb'</code>.</p> <p>To keep our parallel...
</div>


<footer>
  <span class="categories">Posted in <a class='category' href='/blog/categories/continuous-integration/'>continuous integration</a>, <a class='category' href='/blog/categories/rspec/'>rspec</a>, <a class='category' href='/blog/categories/ruby/'>ruby</a>, <a class='category' href='/blog/categories/testing/'>testing</a></span>
</footer>


  </article>

  


  


  


  
  
  
  <article>
    

<div class="content-container">
  <a href="/blog/2015/09/01/releasecop-tracks-stale-releases/">
    <b>Releasecop Tracks Stale Releases</b>
  </a>
</div>
<div class="date-container">
  <div class="date">




  
<time datetime="2015-09-01T17:30:00+00:00" pubdate></time></div>
</div>

<div class="content-container">
 <p>Artsy practices a sort of <a href="http://en.wikipedia.org/wiki/Continuous_delivery">continuous delivery</a>. We keep release cycles short and the process of reviewing, testing, and deploying our software as reliable, fast, and automated as possible. (This blog has touched on these practices <a href="http://artsy.github.io/blog/categories/testing/">multiple</a> <a href="http://artsy.github.io/blog/categories/continuous-integration">times</a>.)</p> <p>Usually, commits that have been reviewed and merged are immediately built and tested. Successfully built versions of the codebase are often automatically deployed to a staging environment. On an automated or frequent-but-manual basis, that...
</div>


<footer>
  <span class="categories">Posted in <a class='category' href='/blog/categories/continuous-deployment/'>continuous deployment</a>, <a class='category' href='/blog/categories/continuous-integration/'>continuous integration</a>, <a class='category' href='/blog/categories/devops/'>devops</a>, <a class='category' href='/blog/categories/open-source/'>open source</a>, <a class='category' href='/blog/categories/oss/'>oss</a>, <a class='category' href='/blog/categories/ruby/'>ruby</a>, <a class='category' href='/blog/categories/testing/'>testing</a>, <a class='category' href='/blog/categories/tools/'>tools</a></span>
</footer>


  </article>

  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  
  
  
    
    <h2>2014</h2>
  
  <article>
    

<div class="content-container">
  <a href="/blog/2014/05/12/continuous-integration-for-service-oriented-architectures/">
    <b>Continuous integration for service-oriented architectures</b>
  </a>
</div>
<div class="date-container">
  <div class="date">




  
<time datetime="2014-05-12T10:50:00+00:00" pubdate></time></div>
</div>

<div class="content-container">
 <p>Whatever you have against monolithic architectures, at least they're easy to test. And when those tests succeed, you can be reasonably confident the live app will work the same way.</p> <p>Artsy began as one such monolithic app, but we've been refactoring into an ecosystem of related APIs and sites. Today, when you search for <a href="https://artsy.net/gene/cultural-commentary">"cultural commentary"</a> or visit <a href="https://artsy.net/artist/robert-longo">Robert Longo</a> on <a href="https://artsy.net">artsy.net</a>, the page is rendered by a web app, sources data...
</div>


<footer>
  <span class="categories">Posted in <a class='category' href='/blog/categories/continuous-integration/'>continuous integration</a>, <a class='category' href='/blog/categories/rspec/'>rspec</a>, <a class='category' href='/blog/categories/soa/'>soa</a>, <a class='category' href='/blog/categories/testing/'>testing</a></span>
</footer>


  </article>

  


  


  


  
  
  
  <article>
    

<div class="content-container">
  <a href="/blog/2014/04/02/refactoring-infrastructure/">
    <b>Refactoring Infrastructure</b>
  </a>
</div>
<div class="date-container">
  <div class="date">




  
<time datetime="2014-04-02T10:32:00+00:00" pubdate></time></div>
</div>

<div class="content-container">
 <p><a href="http://martinfowler.com/books/refactoring.html">Refactoring</a> usually describes chages to <em>code</em>. Specifically, small changes that bring a codebase closer to the desired state. By making these changes incrementally and without modifying the end-to-end behavior, we avoid risk and the intermediate broken states that usually plague large-scale changes. But refactoring need not be limited to code. It's also an effective way to make infrastructure improvements.</p> <p>Take the most common--and simplest--example: database schema changes. Environments that demand constant uptime have long...
</div>


<footer>
  <span class="categories">Posted in <a class='category' href='/blog/categories/dev-ops/'>dev-ops</a></span>
</footer>


  </article>

  


  


  


  


  


  
  
  
  <article>
    

<div class="content-container">
  <a href="/blog/2014/01/30/isolating-spurious-and-nondeterministic-tests/">
    <b>Isolating Spurious and Nondeterministic Tests</b>
  </a>
</div>
<div class="date-container">
  <div class="date">




  
<time datetime="2014-01-30T14:42:00+00:00" pubdate></time></div>
</div>

<div class="content-container">
 <p>Testing is a critical part of our workflow at <a href="https://artsy.net">Artsy</a>. It gives us confidence to make regular, aggressive enhancements. But anyone who has worked with a large, complex test suite has struggled with occasional failures that are difficult to reproduce or fix.</p> <p>These failures might be due to slight timing differences or lack of proper isolation between tests. Integration tests are particularly thorny, since problems can originate not only in application code, but in...
</div>


<footer>
  <span class="categories">Posted in <a class='category' href='/blog/categories/rspec/'>rspec</a>, <a class='category' href='/blog/categories/testing/'>testing</a>, <a class='category' href='/blog/categories/travis/'>travis</a></span>
</footer>


  </article>

  


  


  


  
  
  
    
    <h2>2013</h2>
  
  <article>
    

<div class="content-container">
  <a href="/blog/2013/08/27/introduction-to-aws-opsworks/">
    <b>Introduction to AWS OpsWorks</b>
  </a>
</div>
<div class="date-container">
  <div class="date">




  
<time datetime="2013-08-27T12:31:00+00:00" pubdate></time></div>
</div>

<div class="content-container">
 <p>OpsWorks is a new service from Amazon that promises to provide high-level tools to manage your EC2-based deployment. From <a href="http://aws.typepad.com/aws/2013/02/aws-opsworks-flexible-application-management-in-the-cloud.html">the announcement</a>:</p> <blockquote><p>AWS OpsWorks features an integrated management experience for the entire application lifecycle including resource provisioning, configuration management, application deployment, monitoring, and access control. It will work with applications of any level of complexity and is independent of any particular architectural pattern.</p></blockquote> <p>After scratching our heads about exactly what that meant, we tried it...
</div>


<footer>
  <span class="categories">Posted in <a class='category' href='/blog/categories/aws/'>aws</a>, <a class='category' href='/blog/categories/dev-ops/'>dev-ops</a>, <a class='category' href='/blog/categories/heroku/'>heroku</a>, <a class='category' href='/blog/categories/opsworks/'>opsworks</a></span>
</footer>


  </article>

  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  


  
  
  
    
    <h2>2012</h2>
  
  <article>
    

<div class="content-container">
  <a href="/blog/2012/07/10/on-demand-jenkins-slaves-with-amazon-ec2/">
    <b>On-Demand Jenkins Slaves with Amazon EC2</b>
  </a>
</div>
<div class="date-container">
  <div class="date">




  
<time datetime="2012-07-10T13:30:00+00:00" pubdate></time></div>
</div>

<div class="content-container">
 <p>The <a href="http://artsy.net">Artsy</a> team faithfully uses <a href="http://jenkins-ci.org">Jenkins</a> for continuous integration. <a href="http://artsy.github.com/blog/2012/05/27/using-jenkins-for-ruby-and-ruby-on-rails-teams/">As we've described before</a>, our Jenkins master and 8 slaves run on Linode. This arrangement has at least a few drawbacks:</p> <ul> <li>Our Linode servers are manually configured. They require frequent maintenance, and inconsistencies lead to surprising build failures.</li> <li>The fixed set of slaves don't match the pattern of our build jobs: jobs get backed up during the day, but servers are mostly...
</div>


<footer>
  <span class="categories">Posted in <a class='category' href='/blog/categories/continuous-integration/'>continuous integration</a>, <a class='category' href='/blog/categories/ec2/'>ec2</a>, <a class='category' href='/blog/categories/jenkins/'>jenkins</a>, <a class='category' href='/blog/categories/testing/'>testing</a></span>
</footer>


  </article>

  


  
  
  
  <article>
    

<div class="content-container">
  <a href="/blog/2012/07/05/spend-time-with-your-site/">
    <b>Spend Time With Your Site</b>
  </a>
</div>
<div class="date-container">
  <div class="date">




  
<time datetime="2012-07-05T10:51:00+00:00" pubdate></time></div>
</div>

<div class="content-container">
 <p>Empathy with end users is critical when developing consumer-facing software. Many go <a href="http://innonate.com/2011/03/09/hackers-the-canon-of-consumer-facing-products/">even</a> <a href="http://www.uie.com/articles/self_design/">further</a> and argue that you should <em>be</em> your own user to effectively deliver the best experience.</p> <blockquote><p><em>I'd encourage anyone starting a startup to become one of its users, however unnatural it seems.</em></p> <p>&mdash; Paul Graham <a href="http://paulgraham.com/organic.html">Organic Startup Ideas</a></p></blockquote> <p>In practice, though, this can be difficult:</p> <ul> <li>As a developer, you're just not representative of the intended audience.</li> <li>You're [appropriately]...
</div>


<footer>
  <span class="categories">Posted in <a class='category' href='/blog/categories/ec2/'>ec2</a>, <a class='category' href='/blog/categories/heroku/'>heroku</a>, <a class='category' href='/blog/categories/product-management/'>product management</a></span>
</footer>


  </article>

  


  


  


  


  


  


  


  


  


  


  


  


  


  


  
  
  
  <article>
    

<div class="content-container">
  <a href="/blog/2012/01/31/beyond-heroku-satellite-delayed-job-workers-on-ec2/">
    <b>Beyond Heroku: "Satellite" Delayed Job Workers on EC2</b>
  </a>
</div>
<div class="date-container">
  <div class="date">




  
<time datetime="2012-01-31T11:45:00+00:00" pubdate></time></div>
</div>

<div class="content-container">
 <p>[TL;DR: To supplement Heroku-managed app servers, we launched custom EC2 instances to host Delayed Job worker processes. See the <a href="https://github.com/joeyAghion/satellite_setup">satellite_setup github repo</a> for rake tasks and Chef recipes that make it easy.]</p> <p><a href="http://artsy.net">Artsy</a> engineers are big users and abusers of <a href="http://heroku.com">Heroku</a>. It's a neat abstraction of server resources, so we were conflicted when parts of our application started to bump into Heroku's limitations. While we weren't eager to start managing additional infrastructure,...
</div>


<footer>
  <span class="categories">Posted in <a class='category' href='/blog/categories/chef/'>chef</a>, <a class='category' href='/blog/categories/ec2/'>ec2</a>, <a class='category' href='/blog/categories/fog/'>fog</a>, <a class='category' href='/blog/categories/heroku/'>heroku</a></span>
</footer>


  </article>

  


  


  


  


  


  

</div>


      
    </article>

    
  </div>
</div>


    </div>
  </div>
  <footer id="main_footer"> <div class="footer-navigation">
  <ul>
    <li><a href="https://developers.artsy.net/">API</a></li>
    <li><a href="https://www.artsy.net/jobs">Careers</a></li>
    <li><a href="http://twitter.com/artsyopensource">@artsyopensource</a></li>
    <li><a href="http://www.artsy.net/">Artsy.net</a></li>
  </ul>
</div>



<script type="text/javascript">
      var disqus_shortname = 'artsy';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>


</footer>
  <script type="text/javascript">
  $(function() {
    // TODO: Move this whole file to a javascript file that is included in the footer

    // Main sticky header
    if ($(window).width() >= 700) {
      var sticky = new Waypoint.Sticky({
        element: $("#banner"),
        offset: -100
      });
    }

    // Toggle hamburger menu
    $('.header-hamburger').click(function() {
      $('#banner, .cmn-toggle-switch').toggleClass('active');
      if (location.pathname == '/open-source') {
        $('.header-search span').hide();
        $('#page-sidebar').toggle();
      }
    });

    // Toggle search focus on mobile
    $('input.search').focus(function() {
      $('#header').addClass('search-focused');
    }).blur(function() {
      $('#header').removeClass('search-focused');
    });
  });
</script>

</body>
</html>
